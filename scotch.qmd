<link rel="stylesheet" href="/scripts/chessboard/css/chessboard-1.0.0.css">
      
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>

<script src="/scripts/chessboard/js/chessboard-1.0.0.js"></script>

# The Scotch

```{r, file='scripts/R/r-setup.R'}
```

```{ojs, file='scripts/js/board-setup.js'}
```

```{r}
scotch <-
  add_game(
    title = "intro",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4"),
    notation = TRUE
  ) |>
  add_game(
    title = "classical",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5"),
    start = 7,
    variations = c("classical-1", "classical-2", "classical-3")
  ) |>
  add_variation(
    title = "classical-1",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Nxc6", "Qf6", "Qd2", "dxc6", "Nc3")
  ) |>
  add_variation(
    title = "classical-2",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Be3", "Qf6", "c3", "Nge7", "Bc4", "0-0", "0-0", "Bb6")
  ) |>
  add_variation(
    title = "classical-3",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Nb3", "Bb6", "a4", "a6", "Nc3")
  ) |>
  add_game(
    title = "Schmidt",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Nf6"),
    start = 7,
    variations = c("four-knights", "Mieses")
  ) |>
  add_variation(
    title = "four-knights",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Nf6",
              "Nc3", "Bb4", "Nxc6", "bxc6", "Bd3", "d5", "exd5", "cxd5", "0-0", "0-0", "Bg5", "c6"),
  )  |>
  add_variation(
    title = "Mieses",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Nf6",
              "Nxc6", "bxc6", "e5", "Qe7", "Qe2", "Nd5", "c4"),
  ) |>
  add_game(
    title = "Steinitz",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4",
              "Qh4", "Nc3", "Bb4", "Be2", "Qxe4", "Nb5", "Bxc3+", "bxc3", "Kd8", "0-0"),
    start = 7
  ) |>
  add_game(
    title = "scotch-gambit",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Bc4"),
    variations = c("scotch-gambit-variation-italian", "scotch-gambit-variation-accepted", "scotch-gambit-variation-london"),
    start = 7
  ) |>
  add_variation(
    title = "scotch-gambit-variation-italian",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Bc4",
              "Bc5", "c3", "Nf6"),
    start = 7 
  ) |>
  add_variation(
    title = "scotch-gambit-variation-accepted",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Bc4",
              "Bc5", "c3", "dxc3", "Bxf7+", "Kxf7", "Qd5+"),
    start = 7 
  ) |>
  add_variation(
    title = "scotch-gambit-variation-london",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Bc4",
              "Bb4+"),
    start = 7
  ) |>
  ## TRAPS
  add_game(
    title = "traps-classical",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4"),
    start = 7,
    variations = c("traps-classical-1", "traps-classical-2")
  ) |>
  add_variation(
    title = "traps-classical-1",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4",
              "Bc5", "Be3", "Nf6", "Nxc6", "dxc6", "Qxd8+", "Kxd8", "Bxc5", "Nxe4")
  ) |>
  add_variation(
    title = "traps-classical-2",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4",
              "Bc5", "Be3", "d6", "Nxc6", "bxc6", "Bxc5", "dxc5", "Qxd8+", "Kxd8")
  ) |>
  # add_game(
  #   title = "Endgame",
  #   moves = c("Ka3"),
  #   position = "8/1k6/8/8/8/3Q4/K7/8 w - - 0 1"
  # ) |>
  clean_chess_df()

ojs_define(scotch_t = scotch)
```

```{ojs}
scotch = transpose(scotch_t)
```

```{ojs}
scotch.filter(d => d.type === 'main')
  .map(d => board_setup(scotch, d.title))
```

## Introduction

```{r}
#| output: asis
put_board("intro")
```

## Main Line (4.Nxd4)

### Classical Variation (4...Bc5) {.unnumbered}

::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("classical")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}

* After 4.Nxd4 Bc5 there are three main lines: 
  * <span class="variation" id = "classical-1"> 5.Nxc6 </span>
  * <span class="variation" id = "classical-2"> 5.Be3 </span>
  * <span class="variation" id = "classical-3"> 5.Nb3 </span>

:::

::::

### Schmidt Variation (4...Nf6) {.unnumbered}

::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("Schmidt")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}

* After 4.Nxd4 Nf6 there are two options:
  * The Mieses Variation: <span class="variation" id = "Mieses"> 5.Nxc6 </span>
  * The Scotch Four Knights Game: <span class="variation" id = "four-knights"> 5.Nc3 </span>

:::

::::


### Steinitz Variation (4...Qh4!?) {.unnumbered}
::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("Steinitz")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}
* Black wins a pawn here but gives white a lead in development and ends up with their king in a slightly awkward spot.
:::

::::

## Scotch Gambit (4.Bc4)
::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("scotch-gambit")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}
* Black can accept with <span class="variation" id = "scotch-gambit-variation-accepted"> 4...Bc5 5.c3 dxc3 </span>.
* Alternatively, <span class="variation" id="scotch-gambit-variation-italian">  5...Nf6 </span> transitions into the Italian Game
* <span class="variation" id = "scotch-gambit-variation-london"> 4...Bb4+ </span> is the London Defense 
:::

::::


## Traps

### Classical Variation (4.Nxd4 Bc5) {.unnumbered}
::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("traps-classical")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}

* If black doesn't defend the bishop on c5 after 4.Nxd5 Bc5 5.Be3, white can take the knight on c6, winning the bishop!
  * For example, <span class="variation" id = "traps-classical-1"> 5....Nf6 </span> loses the bishop
  * <span class="variation" id = "traps-classical-2"> 5....d6 </span> defends the bishop, but it's not pretty
  
:::

::::









