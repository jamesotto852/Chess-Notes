<link rel="stylesheet" href="/scripts/chessboard/css/chessboard-1.0.0.css">
      
<script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
        crossorigin="anonymous"></script>

<script src="/scripts/chessboard/js/chessboard-1.0.0.js"></script>

# The Scotch

```{r, file='scripts/R/r-setup.R'}
```

```{ojs, file='scripts/js/board-setup.js'}
```

```{r}
scotch <-
  add_game(
    title = "intro",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4"),
    notation = TRUE
  ) |>
  add_game(
    title = "classical",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5"),
    start = 7,
    variations = c("classical-1", "classical-2", "classical-3")
  ) |>
  add_variation(
    title = "classical-1",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Nxc6", "Qf6", "Qd2", "dxc6", "Nc3")
    # start = 10 
  ) |>
  add_variation(
    title = "classical-2",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Be3", "Qf6", "c3", "Nge7", "Bc4", "0-0", "0-0", "Bb6")
    # start = 10
  ) |>
  add_variation(
    title = "classical-3",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4", "Bc5",
              "Nb3", "Bb6", "a4", "a6", "Nc3")
    # start = 10
  ) |>
  add_game(
    title = "Steinitz",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", "Nxd4",
              "Qh4", "Nc3", "Bb4", "Be2", "Qxe4", "Nb5", "Bxc3+", "bxc3", "Kd8", "0-0"),
    start = 7
  ) |>
  add_game(
    title = "scotch-gambit",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", 
              "Bc4", "Bc5", "c3", "Nf6"),
    variations = c("scotch-gambit-variation-accepted", "scotch-gambit-variation-london"),
    start = 7
  ) |>
  add_variation(
    title = "scotch-gambit-variation-accepted",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", 
              "Bc4", "Bc5", "c3", "dxc3", "Bxf7+", "Kxf7", "Qd5+"),
    start = 10 
  ) |>
  add_variation(
    title = "scotch-gambit-variation-london",
    moves = c("e4", "e5", "Nf3", "Nc6", "d4", "exd4", 
              "Bc4", "Bb4+"),
    start = 8
  ) |>
  # add_game(
  #   title = "Endgame",
  #   moves = c("Ka3"),
  #   position = "8/1k6/8/8/8/3Q4/K7/8 w - - 0 1"
  # ) |>
  clean_chess_df()

ojs_define(scotch_t = scotch)
```

```{ojs}
scotch = transpose(scotch_t)
```

```{ojs}
scotch.filter(d => d.type === 'main')
  .map(d => board_setup(scotch, d.title))
```

## Introduction

```{r}
#| output: asis
put_board("intro")
```

## Main Line (4.Nxd4)

### Classical Variation (4...Bc5) {.unnumbered}

::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("classical")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}

After 4.Nxd4 Bc5 there are three main lines: 
<ul>
<li id = "classical-1"> 5.Nxc6 </li>
<li id = "classical-2"> 5.Be3 </li>
<li id = "classical-3"> 5.Nb3 </li>
</ul>

:::

::::


### Steinitz Variation (4...Qh4!?) {.unnumbered}
::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("Steinitz")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}
* Black wins a pawn here but gives white a lead in development and ends up with their king in a slightly awkward spot.
:::

::::

## Scotch Gambit (4.Bc4)
::::{.columns}

:::{.column width='45%'}
```{r}
#| output: asis
put_board("scotch-gambit")
```
:::

:::{.column width='55%' style='margin-top: 10px; margin-left: 5px'}
<ul>
<li> This line transitions into the Italian Game </li>
<li id = "scotch-gambit-variation-accepted"> Black can further accept the gambit with 5...dxc3 </li>
<li id = "scotch-gambit-variation-london"> 4...Bb4+ is the London Defense </li>
</ul>
:::

::::
